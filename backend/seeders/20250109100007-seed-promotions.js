'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up(queryInterface, Sequelize) {
    const promotions = [
      {
        id: 'promo-1',
        title: 'Giảm 20% cho dịch vụ Facial',
        description: 'Ưu đãi đặc biệt cho tất cả các dịch vụ chăm sóc da mặt.',
        code: 'FACIAL20',
        discountType: 'percentage',
        discountValue: 20,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify(['svc-facial-basic']),
        termsAndConditions: 'Áp dụng cho tất cả khách hàng. Không áp dụng cùng các chương trình khuyến mãi khác.',
        imageUrl: 'https://picsum.photos/seed/promo-facial/500/300',
        targetAudience: 'All',
        isPublic: true,
        isActive: true,
        minOrderValue: 0,
        stock: null,
      },
      {
        id: 'promo-2',
        title: 'Giảm 15% cho Massage Body',
        description: 'Thư giãn với ưu đãi giảm giá cho dịch vụ massage body thảo dược.',
        code: 'MASSAGE15',
        discountType: 'percentage',
        discountValue: 15,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify(['svc-massage-body']),
        termsAndConditions: 'Áp dụng cho tất cả khách hàng. Áp dụng cho đơn hàng từ 500,000 VNĐ trở lên.',
        imageUrl: 'https://picsum.photos/seed/promo-massage/500/300',
        targetAudience: 'All',
        isPublic: true,
        isActive: true,
        minOrderValue: 500000,
        stock: null,
      },
      {
        id: 'promo-3',
        title: 'Ưu đãi khách hàng mới - Giảm 30%',
        description: 'Chào mừng khách hàng mới! Giảm 30% cho lần đặt lịch đầu tiên.',
        code: 'NEW30',
        discountType: 'percentage',
        discountValue: 30,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify([]), // Áp dụng cho tất cả dịch vụ
        termsAndConditions: 'Chỉ áp dụng cho khách hàng mới (chưa từng sử dụng dịch vụ). Mỗi khách hàng chỉ được sử dụng 1 lần.',
        imageUrl: 'https://picsum.photos/seed/promo-new/500/300',
        targetAudience: 'New Clients',
        isPublic: true,
        isActive: true,
        minOrderValue: 0,
        stock: null,
      },
      {
        id: 'promo-4',
        title: 'Voucher sinh nhật - Giảm 50%',
        description: 'Quà tặng sinh nhật đặc biệt! Giảm 50% cho khách hàng trong tháng sinh nhật.',
        code: 'BIRTHDAY50',
        discountType: 'percentage',
        discountValue: 50,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify([]), // Áp dụng cho tất cả dịch vụ
        termsAndConditions: 'Chỉ áp dụng trong tháng sinh nhật của khách hàng. Mỗi khách hàng chỉ được sử dụng 1 lần/năm. Giảm tối đa 2,000,000 VNĐ.',
        imageUrl: 'https://picsum.photos/seed/promo-birthday/500/300',
        targetAudience: 'Birthday',
        isPublic: true,
        isActive: true,
        minOrderValue: 0,
        stock: null,
      },
      {
        id: 'promo-5',
        title: 'Combo giảm 25% - Gói Thư Giãn',
        description: 'Tiết kiệm hơn với combo gói thư giãn toàn diện.',
        code: 'COMBO25',
        discountType: 'percentage',
        discountValue: 25,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify(['svc-combo-relax']),
        termsAndConditions: 'Áp dụng cho gói combo thư giãn. Không áp dụng cùng các chương trình khuyến mãi khác.',
        imageUrl: 'https://picsum.photos/seed/promo-combo/500/300',
        targetAudience: 'All',
        isPublic: true,
        isActive: true,
        minOrderValue: 0,
        stock: null,
      },
      {
        id: 'promo-6',
        title: 'Giảm 100,000 VNĐ cho đơn hàng từ 1 triệu',
        description: 'Giảm trực tiếp 100,000 VNĐ cho đơn hàng từ 1,000,000 VNĐ trở lên.',
        code: 'SAVE100K',
        discountType: 'fixed',
        discountValue: 100000,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify([]), // Áp dụng cho tất cả dịch vụ
        termsAndConditions: 'Áp dụng cho đơn hàng từ 1,000,000 VNĐ trở lên. Giảm trực tiếp 100,000 VNĐ.',
        imageUrl: 'https://picsum.photos/seed/promo-100k/500/300',
        targetAudience: 'All',
        isPublic: true,
        isActive: true,
        minOrderValue: 1000000,
        stock: null,
      },
      {
        id: 'promo-7',
        title: 'Voucher VIP - Giảm 200,000 VNĐ',
        description: 'Voucher đặc biệt dành cho khách hàng VIP. Giảm 200,000 VNĐ cho đơn hàng bất kỳ.',
        code: 'VIP200K',
        discountType: 'fixed',
        discountValue: 200000,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify([]),
        termsAndConditions: 'Voucher VIP. Áp dụng cho đơn hàng từ 2,000,000 VNĐ trở lên. Số lượng có hạn.',
        imageUrl: 'https://picsum.photos/seed/promo-vip/500/300',
        targetAudience: 'VIP',
        isPublic: false, // Private voucher
        isActive: true,
        minOrderValue: 2000000,
        stock: 50, // Có giới hạn số lượng
      },
      {
        id: 'promo-8',
        title: 'Triệt lông - Giảm 20%',
        description: 'Ưu đãi đặc biệt cho dịch vụ triệt lông Diode Laser.',
        code: 'HAIR20',
        discountType: 'percentage',
        discountValue: 20,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify(['svc-hair-removal']),
        termsAndConditions: 'Áp dụng cho dịch vụ triệt lông. Không áp dụng cùng các chương trình khuyến mãi khác.',
        imageUrl: 'https://picsum.photos/seed/promo-hair/500/300',
        targetAudience: 'All',
        isPublic: true,
        isActive: true,
        minOrderValue: 0,
        stock: null,
      },
      {
        id: 'promo-9',
        title: 'Gói Hoàng Gia - Giảm 500,000 VNĐ',
        description: 'Ưu đãi lớn cho gói chăm sóc toàn thân hoàng gia.',
        code: 'ROYAL500',
        discountType: 'fixed',
        discountValue: 500000,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify(['svc-combo-royal']),
        termsAndConditions: 'Áp dụng cho gói hoàng gia. Giảm trực tiếp 500,000 VNĐ.',
        imageUrl: 'https://picsum.photos/seed/promo-royal/500/300',
        targetAudience: 'All',
        isPublic: true,
        isActive: true,
        minOrderValue: 0,
        stock: null,
      },
      {
        id: 'promo-10',
        title: 'Voucher bí mật - Giảm 40%',
        description: 'Voucher đặc biệt chỉ dành cho khách hàng biết mã.',
        code: 'SECRET40',
        discountType: 'percentage',
        discountValue: 40,
        expiryDate: '2025-12-31',
        applicableServiceIds: JSON.stringify([]),
        termsAndConditions: 'Voucher bí mật. Áp dụng cho đơn hàng từ 1,500,000 VNĐ trở lên. Số lượng có hạn.',
        imageUrl: 'https://picsum.photos/seed/promo-secret/500/300',
        targetAudience: 'All',
        isPublic: false, // Private voucher
        isActive: true,
        minOrderValue: 1500000,
        stock: 20, // Có giới hạn số lượng
      },
    ];

    await queryInterface.bulkInsert('promotions', promotions, {});
  },

  async down(queryInterface, Sequelize) {
    await queryInterface.bulkDelete('promotions', null, {});
  }
};
